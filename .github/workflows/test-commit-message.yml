name: Test Commit Message Error

on:
  push:
    branches:
      - main

jobs:
  test-commit-message:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v3
      
      - name: Configure Git
        run: |
          git config user.name "GitHub Actions"
          git config user.email "actions@github.com"
          
      - name: Create a file and commit with special characters
        run: |
          echo "Test file" > test.txt
          git add test.txt
          
          # Commit with special characters and multiline message
          COMMIT_MSG="fix: ì½¤ë³´ì°¨íŠ¸ì—ì„œ KPIë§Œ float íƒ€ì…ìœ¼ë¡œ ì‘ë‹µë˜ì§€ ì•ŠëŠ” ì´ìŠˆ ìˆ˜ì • (#2072)
          <!-- ì¢‹ì€ PRì„ ë§Œë“œëŠ” ë°©ë²•:
          1. ë¬´ìŠ¨ ì´ìœ ë¡œ ì½”ë“œë¥¼ ë³€ê²½í–ˆëŠ”ì§€
          1. ì–´ë–¤ ìœ„í—˜ì´ë‚˜ ì¥ì• ê°€ ë°œê²¬ë˜ì—ˆëŠ”ì§€
          1. ì–´ë–¤ ë¶€ë¶„ì— ë¦¬ë·°ì–´ê°€ ì§‘ì¤‘í•˜ë©´ ì¢‹ì„ì§€
          1. í…ŒìŠ¤íŠ¸ ê³„íš ë˜ëŠ” ì™„ë£Œ ì‚¬í•­
          -->
          
          ### ğŸŒ€ Changes
          - metric_keyê°€ KPI ì¸ ê²½ìš° float ì´ ì•„ë‹Œ decimal ë¡œ ì‘ë‹µë˜ê³  ìˆëŠ” ê²ƒì„ í™•ì¸
          - ë”°ë¼ì„œ prev_bar, prev_line ì€ , ,  ì„¸ê°€ì§€ íƒ€ì…ìœ¼ë¡œ ë¦¬í„´ ë¨
          - safe_float í•¨ìˆ˜ í•˜ë‚˜ ë§Œë“¤ì–´ì„œ ì ìš©
          
          ### ğŸ”— Links
          - ad0a4a546b87b7135bdd5f91c062a9697fd4be5c"
          
          # Clean up the commit message
          COMMIT_MSG="Merge pull request #1743 from madup-inc/fix/DPT-2713

          Revert \"fix: ë¹„ë””ì˜¤ëŠ” 1ê°œì”© ìˆ˜ì§‘í•˜ë„ë¡ ë³€ê²½ (DPT-2713)\" - 5de1b2b89ab8b8f3c661a8e4944ce9e21099dc14"
          git commit -m "${COMMIT_MSG} - $(git rev-parse HEAD)"
